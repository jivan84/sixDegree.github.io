<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Python Numpy</title>
  
  <!-- Meta -->
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  
  

  <!-- Feed -->
  
    <link rel="alternative" href="/atom.xml" title="SixDegree" type="application/atom+xml">
  

  <!-- CSS -->
  <link rel="stylesheet" href="/bootstrap/dist/css/bootstrap.css">
  
	
		<link rel="stylesheet" href="/highlight/demo/styles/tomorrow-night-bright.css">
	
    
  
  <link rel="stylesheet" href="/css/fontello.css">
  <link rel="stylesheet" href="/css/style.css">

  <!-- Site Analyse -->
  
	<script>
	var userID='2bbb83cc0f781dd7502e9d5e19661866';
	var _hmt = _hmt || [];
	(function() {
	  var hm = document.createElement("script");
	  hm.src = "//hm.baidu.com/hm.js?"+userID;
	  var s = document.getElementsByTagName("script")[0]; 
	  s.parentNode.insertBefore(hm, s);
	})();
	</script>


</head>

<body data-spy="scroll" data-target="#nav-catalog">
  <div id="top-push"></div>
<a href="#top-push" id="go-top">
	<span class="glyphicon glyphicon-chevron-up"></span>
</a>
  <aside id="sidebar">
    <section class="sidebar-header">Catalog</section>
     <nav id="nav-catalog">
        <ol class="sidebar-nav nav"><li class="sidebar-nav nav-item sidebar-nav nav-level-2"><a class="sidebar-nav nav-link" href="#header-1"><span class="sidebar-nav nav-text">Numpy</span></a></li><li class="sidebar-nav nav-item sidebar-nav nav-level-2"><a class="sidebar-nav nav-link" href="#header-2"><span class="sidebar-nav nav-text">N维数组对象:ndarray</span></a><ol class="sidebar-nav nav-child"><li class="sidebar-nav nav-item sidebar-nav nav-level-3"><a class="sidebar-nav nav-link" href="#header-3"><span class="sidebar-nav nav-text">ndarray对象的属性</span></a></li><li class="sidebar-nav nav-item sidebar-nav nav-level-3"><a class="sidebar-nav nav-link" href="#header-4"><span class="sidebar-nav nav-text">ndarray的元素类型</span></a></li><li class="sidebar-nav nav-item sidebar-nav nav-level-3"><a class="sidebar-nav nav-link" href="#header-5"><span class="sidebar-nav nav-text">ndarray数组的创建</span></a></li><li class="sidebar-nav nav-item sidebar-nav nav-level-3"><a class="sidebar-nav nav-link" href="#header-6"><span class="sidebar-nav nav-text">Samples</span></a></li></ol></li><li class="sidebar-nav nav-item sidebar-nav nav-level-2"><a class="sidebar-nav nav-link" href="#header-7"><span class="sidebar-nav nav-text">ndarray数组的基础操作</span></a><ol class="sidebar-nav nav-child"><li class="sidebar-nav nav-item sidebar-nav nav-level-3"><a class="sidebar-nav nav-link" href="#header-8"><span class="sidebar-nav nav-text">变换</span></a></li><li class="sidebar-nav nav-item sidebar-nav nav-level-3"><a class="sidebar-nav nav-link" href="#header-9"><span class="sidebar-nav nav-text">访问</span></a></li><li class="sidebar-nav nav-item sidebar-nav nav-level-3"><a class="sidebar-nav nav-link" href="#header-10"><span class="sidebar-nav nav-text">合并</span></a></li><li class="sidebar-nav nav-item sidebar-nav nav-level-3"><a class="sidebar-nav nav-link" href="#header-11"><span class="sidebar-nav nav-text">分割</span></a></li></ol></li><li class="sidebar-nav nav-item sidebar-nav nav-level-2"><a class="sidebar-nav nav-link" href="#header-12"><span class="sidebar-nav nav-text">运算</span></a><ol class="sidebar-nav nav-child"><li class="sidebar-nav nav-item sidebar-nav nav-level-3"><a class="sidebar-nav nav-link" href="#header-13"><span class="sidebar-nav nav-text">基本运算</span></a></li><li class="sidebar-nav nav-item sidebar-nav nav-level-3"><a class="sidebar-nav nav-link" href="#header-14"><span class="sidebar-nav nav-text">常用运算函数</span></a></li><li class="sidebar-nav nav-item sidebar-nav nav-level-3"><a class="sidebar-nav nav-link" href="#header-15"><span class="sidebar-nav nav-text">线性运算</span></a></li></ol></li><li class="sidebar-nav nav-item sidebar-nav nav-level-2"><a class="sidebar-nav nav-link" href="#header-16"><span class="sidebar-nav nav-text">高级</span></a><ol class="sidebar-nav nav-child"><li class="sidebar-nav nav-item sidebar-nav nav-level-3"><a class="sidebar-nav nav-link" href="#header-17"><span class="sidebar-nav nav-text">聚合(统计函数)</span></a></li><li class="sidebar-nav nav-item sidebar-nav nav-level-3"><a class="sidebar-nav nav-link" href="#header-18"><span class="sidebar-nav nav-text">索引函数</span></a></li><li class="sidebar-nav nav-item sidebar-nav nav-level-3"><a class="sidebar-nav nav-link" href="#header-19"><span class="sidebar-nav nav-text">Fancy Indexing</span></a></li></ol></li><li class="sidebar-nav nav-item sidebar-nav nav-level-2"><a class="sidebar-nav nav-link" href="#header-20"><span class="sidebar-nav nav-text">文件存取</span></a><ol class="sidebar-nav nav-child"><li class="sidebar-nav nav-item sidebar-nav nav-level-3"><a class="sidebar-nav nav-link" href="#header-21"><span class="sidebar-nav nav-text">CSV文件存取</span></a></li><li class="sidebar-nav nav-item sidebar-nav nav-level-3"><a class="sidebar-nav nav-link" href="#header-22"><span class="sidebar-nav nav-text">多维数据的存取</span></a></li><li class="sidebar-nav nav-item sidebar-nav nav-level-3"><a class="sidebar-nav nav-link" href="#header-23"><span class="sidebar-nav nav-text">便捷存取</span></a></li></ol></li></ol>
    </nav>
  </aside>
  <span id="sidebar-ctrl" class="glyphicon glyphicon-list-alt circle"></span>
  <div id="wrapper">
    <header>
  <nav class="navbar navbar-default">
    <div class="container-fluid">
      <div class="navbar-header">
        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#nav-menu" aria-expanded="false">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="/">SixDegree</a>
      </div>
      <div class="collapse navbar-collapse" id="nav-menu">
        <ul class="nav navbar-nav navbar-right">
          
              <li  >
                <a href="/">Blogs</a>
              </li>
          
              <li  >
                <a href="/tags.html">Tags</a>
              </li>
          
              <li  >
                <a href="/about.html">About</a>
              </li>
          
          
              <li>
                <a href="/atom.xml" target="_blank">
                  <span class="icon-rss"></span>
                </a>
              </li>
          
              <li>
                <a href="http://github.com/sixdegree" target="_blank">
                  <span class="icon-github"></span>
                </a>
              </li>
          
        </ul>
      </div>
    </div>
  </nav>
</header>



    <div class="container">
      <article class="detail" role="main">
  <section class="post-header">
    <h1 class="post-title">Python Numpy</h1>
    <ul class="post-meta">
      <li>
        <span class="glyphicon glyphicon-calendar"></span>
        <time datetime="2019-08-19T16:00:00.000Z">2019-08-20</time>
      </li>
      
        <li>
         <span class="glyphicon glyphicon-tags"></span>
          
            <a href="/tags.html#tag-Python">Python</a>
          
        </li>
      
    </ul>
  </section>
  <section class="post-content">
    <h2 id="header-1">Numpy</h2>
<p>NumPy是一个开源的Python科学计算基础库，包含:</p>
<ul>
<li>一个强大的N维数组对象 <code>ndarray</code></li>
<li>广播功能函数</li>
<li>整合<code>C</code>/<code>C++</code>/<code>Fortran</code>代码的工具</li>
<li>线性代数、傅里叶变换、随机数生成等功能</li>
</ul>
<p>导入使用：</p>
<pre><code class="lang-python">import numpy as np
</code></pre>
<h2 id="header-2">N维数组对象:ndarray</h2>
<p><code>ndarray</code>: 数组（在程序中的别名是:<code>array</code>）</p>
<ul>
<li>一个多维数组（注：这里的维度是指数据的组织形式）：<ul>
<li>1维数组：1层，eg: <code>[]</code>,可用来表示一个向量</li>
<li>2维数组：2层，eg: <code>[[],[],...,[]]</code>,可用来表示一个矩阵</li>
<li>N维数组：N层数组，可用来表示多个矩阵</li>
</ul>
</li>
<li>由两部分构成:<ul>
<li>实际的数据</li>
<li>描述这些数据的元数据(数据维度、数据类型等)</li>
</ul>
</li>
<li>元素类型:<ul>
<li>一般要求为相同(同质)类型</li>
<li>也可以由非同质对象构成，此时元素类型为object，无法有效发挥NumPy优势,尽量避免使用</li>
</ul>
</li>
<li>vs. Python <code>list</code>列表: <ul>
<li><code>ndarray</code>对象采用相同的数据类型（有助于节省运算和存储空间）</li>
<li><code>ndarray</code>对象运算更直接高效（如：可去掉元素间运算所需的循环,使一维向量更像单个数据）</li>
</ul>
</li>
</ul>
<h3 id="header-3">ndarray对象的属性</h3>
<table class="table">
<thead>
<tr>
<th style="text-align:left">属性</th>
<th style="text-align:left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>.ndim</code></td>
<td style="text-align:left">秩(轴数量或维度数量)</td>
</tr>
<tr>
<td style="text-align:left"><code>.shape</code></td>
<td style="text-align:left">每个维度的尺度,返回一个tuple (eg: <code>(n,)</code>,<code>(n,m)</code>,<code>(a,b,c)</code>)</td>
</tr>
<tr>
<td style="text-align:left"><code>.size</code></td>
<td style="text-align:left">元素个数(=<code>.shape</code>中<code>n*m*...</code>)</td>
</tr>
<tr>
<td style="text-align:left"><code>.dtype</code></td>
<td style="text-align:left">元素类型</td>
</tr>
<tr>
<td style="text-align:left"><code>.itemsize</code></td>
<td style="text-align:left">每个元素的大小,以字节为单位</td>
</tr>
</tbody>
</table>
<h3 id="header-4">ndarray的元素类型</h3>
<p>对比Python语法仅支持整数、浮点数和复数3种类型,ndarray支持更多的元素类型，因为：</p>
<ul>
<li>科学计算涉及数据较多,对存储和性能都有较高要求</li>
<li>对元素类型精细定义,有助于NumPy合理使用存储空间并优化性能 </li>
</ul>
<table class="table">
<thead>
<tr>
<th style="text-align:left">数据类型</th>
<th style="text-align:left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>bool</code></td>
<td style="text-align:left">布尔类型,<code>True</code>或<code>False</code></td>
</tr>
<tr>
<td style="text-align:left"><code>intc</code></td>
<td style="text-align:left">与C语言中的int类型一致,一般是<code>int32</code>或<code>int64</code></td>
</tr>
<tr>
<td style="text-align:left"><code>intp</code></td>
<td style="text-align:left">用于索引的整数,与C语言中<code>ssize_t</code>一致,<code>int32</code>或<code>int64</code> </td>
</tr>
<tr>
<td style="text-align:left"><code>int8</code></td>
<td style="text-align:left">字节长度的整数,取值:<code>[‐128, 127]</code></td>
</tr>
<tr>
<td style="text-align:left"><code>int16</code></td>
<td style="text-align:left">16位长度的整数,取值:<code>[‐32768, 32767]</code></td>
</tr>
<tr>
<td style="text-align:left"><code>int32</code></td>
<td style="text-align:left">32位长度的整数,取值:<code>[‐2^31, 2^31‐1]</code></td>
</tr>
<tr>
<td style="text-align:left"><code>int64</code></td>
<td style="text-align:left">64位长度的整数,取值:<code>[‐2^63, 2^63‐1]</code></td>
</tr>
<tr>
<td style="text-align:left"><code>uint8</code></td>
<td style="text-align:left">8位无符号整数,取值:<code>[0, 255]</code></td>
</tr>
<tr>
<td style="text-align:left"><code>uint16</code></td>
<td style="text-align:left">16位无符号整数,取值:<code>[0, 65535]</code></td>
</tr>
<tr>
<td style="text-align:left"><code>uint32</code></td>
<td style="text-align:left">32位无符号整数,取值:<code>[0, 2^32‐1]</code></td>
</tr>
<tr>
<td style="text-align:left"><code>uint64</code></td>
<td style="text-align:left">64位无符号整数,取值:<code>[0, 2^64‐1]</code></td>
</tr>
<tr>
<td style="text-align:left"><code>float16</code></td>
<td style="text-align:left">16位半精度浮点数:1位符号位,5位指数,10位尾数</td>
</tr>
<tr>
<td style="text-align:left"><code>float32</code></td>
<td style="text-align:left">32位半精度浮点数:1位符号位,8位指数,23位尾数</td>
</tr>
<tr>
<td style="text-align:left"><code>float64</code></td>
<td style="text-align:left">64位半精度浮点数:1位符号位,11位指数,52位尾数</td>
</tr>
<tr>
<td style="text-align:left"><code>complex64</code></td>
<td style="text-align:left">复数类型,实部和虚部都是32位浮点数</td>
</tr>
<tr>
<td style="text-align:left"><code>complex128</code></td>
<td style="text-align:left">复数类型,实部和虚部都是64位浮点数</td>
</tr>
</tbody>
</table>
<h3 id="header-5">ndarray数组的创建</h3>
<table class="table">
<thead>
<tr>
<th style="text-align:left">函数</th>
<th style="text-align:left">说明</th>
<th style="text-align:left">示例</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>np.array(list/tuple,dtype=None)</code></td>
<td style="text-align:left">从list/tuple/array等类型创建(不指定<code>dtype</code>时,将根据数据情况自动关联一个<code>dtype</code>类型)</td>
<td style="text-align:left"><code>np.array([i for i in range(10)])</code></td>
</tr>
<tr>
<td style="text-align:left"><code>np.zeros(shape,dtype=float)</code></td>
<td style="text-align:left">根据<code>shape</code>生成一个全<code>0</code>数组(<code>shape</code>: int or tuple)</td>
<td style="text-align:left"><code>np.zeros(shape=(3,5),dtype=int)</code></td>
</tr>
<tr>
<td style="text-align:left"><code>np.ones(shape,dtype=float)</code></td>
<td style="text-align:left">根据<code>shape</code>生成一个全<code>1</code>数组(<code>shape</code>: int or tuple)</td>
<td style="text-align:left"><code>np.ones(shape=(3,5),dtype=int)</code></td>
</tr>
<tr>
<td style="text-align:left"><code>np.full(shape,fill_value,dtype=None)</code></td>
<td style="text-align:left">根据<code>shape</code>生成一个全是<code>fill_value</code>的数组(<code>shape</code>:int or tuple,<code>dtype</code>默认根据<code>fill_value</code>的数据类型)</td>
<td style="text-align:left"><code>np.full(shape=(3,5),fill_value=6</code></td>
</tr>
<tr>
<td style="text-align:left"><code>np.zeros_like(a,dtype=None)</code></td>
<td style="text-align:left">根据数组<code>a</code>的形状生成一个全<code>0</code>数组(<code>dtype</code>默认根据<code>a</code>的<code>dtype</code>)</td>
<td style="text-align:left"><code>np.zeros_like(a)</code></td>
</tr>
<tr>
<td style="text-align:left"><code>np.ones_like(a,dtype=None)</code></td>
<td style="text-align:left">根据数组<code>a</code>的形状生成一个全<code>1</code>数组(<code>dtype</code>默认根据<code>a</code>的<code>dtype</code>)</td>
<td style="text-align:left"><code>np.ones_like(a)</code></td>
</tr>
<tr>
<td style="text-align:left"><code>np.full_like(a,val,dtype=None)</code></td>
<td style="text-align:left">根据数组<code>a</code>的形状生成一个全是<code>val</code>的数组(<code>dtype</code>默认根据<code>a</code>的<code>dtype</code>)</td>
<td style="text-align:left"><code>np.full_like(a,0.1,dtype=float)</code></td>
</tr>
<tr>
<td style="text-align:left"><code>np.arange([start=0,] stop[, step=1,], dtype=None)</code></td>
<td style="text-align:left"><code>[start,stop-1]</code>等<code>step</code>间隔形成一维数组（类似<code>range()</code>，但可以是浮点数）</td>
<td style="text-align:left"><code>np.arange(0,1,0.2)</code></td>
</tr>
<tr>
<td style="text-align:left"><code>np.linspace(start, stop, num=50,endpoint=True,dtype=None)</code></td>
<td style="text-align:left"><code>[start,stop]</code>等间距提取<code>num</code>个数据形成一维数组(<code>endpoint=True</code>: 默认<code>sample</code>包括<code>stop</code>)</td>
<td style="text-align:left"><code>np.linspace(0,20,11)</code></td>
</tr>
<tr>
<td style="text-align:left"><code>np.eye(n,dtype=float)</code></td>
<td style="text-align:left">创建一个正方的<code>n*n</code>单位矩阵(对角线为1,其余为0)</td>
<td style="text-align:left"><code>np.eye(3)</code></td>
</tr>
<tr>
<td style="text-align:left"><code>np.random.randint([low=0,] high, size=None, dtype=&#39;l&#39;)</code></td>
<td style="text-align:left"><code>[low,high)</code>随机整数数组（<code>size</code>: int or tuple for output shape），默认生成一个数</td>
<td style="text-align:left"><code>np.random.randint(5, size=(2, 4))</code></td>
</tr>
<tr>
<td style="text-align:left"><code>np.random.random(size=None)</code></td>
<td style="text-align:left"><code>[0.0,1.0)</code>随机均匀分布的浮点数数组(<code>size</code>: int or tuple for output shape)，默认生成一个数</td>
<td style="text-align:left"><code>np.random.random((3, 2))</code></td>
</tr>
<tr>
<td style="text-align:left"><code>np.random.normal(loc=0.0, scale=1.0, size=None)</code></td>
<td style="text-align:left">生成符合<code>loc</code>均值,<code>scale</code>方差的随机正态分布的浮点数数组(<code>size</code>: int or tuple for output shape)，默认生成一个数</td>
<td style="text-align:left"><code>np.random.normal(loc=0,scale=10,size=(3,5))</code></td>
</tr>
<tr>
<td style="text-align:left"><code>np.random.shuffle(a)</code></td>
<td style="text-align:left">根据数组a的0轴进行随排列（行乱序）,改变原数组</td>
<td style="text-align:left"><code>np.random.shuffle(X)</code></td>
</tr>
<tr>
<td style="text-align:left"><code>np.random.permutation(a)</code></td>
<td style="text-align:left">根据数组a的0轴进行随排列（行乱序）,生成一个新数组</td>
<td style="text-align:left"><code>X1=np.random.permutation(X)</code></td>
</tr>
<tr>
<td style="text-align:left"><code>np.random.choice(a, size=None, replace=True, p=None)</code></td>
<td style="text-align:left">从a(一维数组或int)中以概率p抽取元素,形成size形状新数组 replace表示是否可以重用元素</td>
<td style="text-align:left"><code>np.random.choice(a)</code></td>
</tr>
</tbody>
</table>
<h3 id="header-6">Samples</h3>
<ol>
<li><p><code>np.array</code></p>
<pre><code class="lang-python"> x=np.array([i for i in range(10)])  # array([0, 1, 2, 3, 4, 5, 6, 7, 8, 9])
 y=np.array((1.1, 2, 3.5))           # array([1.1, 2. , 3.5])
 X=np.array([ [1, 2], [3, 4] ])      # array([[1, 2],[3, 4]])
</code></pre>
</li>
<li><p><code>.ndim</code>,<code>.shape</code>,<code>.size</code>,<code>.dtype</code>,<code>.itemsize</code></p>
<pre><code class="lang-python"> # 1, (10,), 10, dtype(&#39;int64&#39;), 8
 x.ndim, x.shape, x.size, x.dtype, x.itemsize

 # 1, (3,), 3, dtype(&#39;float64&#39;), 8
 y.ndim, y.shape, y.size, y.dtype, y.itemsize

 # 2, (2, 2), 4, dtype(&#39;int64&#39;), 8
 X.ndim, X.shape, X.size, X.dtype, X.itemsize

 # 注意: a 与 b 的维度不同
 a,b = np.array([1,2,3]), np.array([[1,2,3]])
 # 1, (3,), 3
 a.ndim,a.shape,a.size 
 # 2, (1, 3), 3
 b.ndim,b.shape,b.size
</code></pre>
</li>
<li><p><code>np.zeros</code>,<code>np.ones</code>,<code>np.full</code></p>
<pre><code class="lang-python"> # np.zeros(shape,dtype=float)
 np.zeros(5)                         # array([0., 0., 0., 0., 0.])
 np.zeros(5,dtype=int)               # array([0, 0, 0, 0, 0])
 np.zeros(shape=(3,2),dtype=int)     # array([[0, 0], [0, 0], [0, 0]])

 # np.ones(shape,dtype=float)
 np.ones(5)                          # array([1., 1., 1., 1., 1.])
 np.ones(5,dtype=int)                # array([1, 1, 1, 1, 1])
 np.ones(shape=(3,2),dtype=int)      # array([[1, 1], [1, 1], [1, 1]])

 # np.full(shape,fill_value,dtype=None)
 np.full(5,2)                        # array([2, 2, 2, 2, 2])
 np.full((3,2),2.5)                  # array([[2.5, 2.5], [2.5, 2.5], [2.5, 2.5]])
</code></pre>
</li>
<li><p><code>np.zeros_like</code>,<code>np.ones_like</code>,<code>np.full_like</code></p>
<pre><code class="lang-python"> X                                   # array([[1, 2], [3, 4]])

 # np.zeros_like(a,dtype=None)
 np.zeros_like(X)                    # array([[0, 0], [0, 0]])

 # np.ones_like(a,dtype=None)
 np.ones_like(X)                     # array([[1, 1], [1, 1]])

 # np.full_like(a,val,dtype=None)
 np.full_like(X,2.5)                 # array([[2, 2],[2, 2]])
 np.full_like(X,2.5,dtype=float)     # array([[2.5, 2.5], [2.5, 2.5]])
</code></pre>
</li>
<li><p><code>np.arange</code>,<code>np.linspace</code></p>
<pre><code class="lang-python"> # np.arange([start=0,] stop[, step=1,], dtype=None) =&gt; [start,stop-1]
 np.arange(5)                        # array([0, 1, 2, 3, 4])
 np.arange(0,5)                      # array([0, 1, 2, 3, 4])
 np.arange(0,10,2)                   # array([0, 2, 4, 6, 8])
 np.arange(0,5.0)                    # array([0., 1., 2., 3., 4.])
 np.arange(0,1,0.2)                  # array([0. , 0.2, 0.4, 0.6, 0.8])

 # np.linspace(start, stop, num=50,endpoint=True,dtype=None) =&gt; [start,stop]
 np.linspace(0,10,5)                 # array([ 0. ,  2.5,  5. ,  7.5, 10. ])
 np.linspace(0,10,6)                 # array([ 0.,  2.,  4.,  6.,  8., 10.])
 np.linspace(0,10,5,endpoint=False)  # array([0., 2., 4., 6., 8.])
</code></pre>
</li>
<li><p><code>np.eye</code></p>
<pre><code class="lang-python"> # np.eye(n,dtype=float) =&gt; n*n I
 np.eye(2)                           # array([[1., 0.], [0., 1.]])
</code></pre>
</li>
<li><p><code>np.random.randint</code>,<code>np.random.random</code>,<code>np.random.normal</code>,<code>np.random.seed</code></p>
<pre><code class="lang-python"> # np.random.randint([low=0,] high, size=None, dtype=&#39;l&#39;) =&gt; [low, high) 均匀分布的整数
 np.random.randint(0,10)             # 7
 np.random.randint(0,10,size=5)      # array([6, 3, 9, 5, 4])
 np.random.randint(0,10,size=(2,6))  # array([[0, 5, 5, 2, 2, 6], [5, 3, 5, 7, 4, 3]])

 # np.random.random(size=None) =&gt; [0.0, 1.0) 均匀分布的浮点数
 np.random.random()                  # 0.35112599596274263
 np.random.random(size=5)            # array([0.84018916, 0.6768928 , 0.37947955, 0.10752063, 0.42760159])
 np.random.random(size=(2,3))        # array([[0.3148762 , 0.87591898, 0.29565754], [0.97317656, 0.58963764, 0.19674398]])

 # np.random.normal(loc=0.0, scale=1.0, size=None) ＝&gt; 正态分布的浮点数
 np.random.normal()                          # -1.6000374192847393 : 均值为0，方差为1的一个随机浮点数
 np.random.normal(10,100)                    # -83.71302590581439  : 均值为10，方差为100的一个随机浮点数
 np.random.normal(loc=0,scale=10,size=(2,3)) # array([[-5.43979747, 16.91181992, -4.96602424], [-5.8348921 , -8.60388572, -9.39083007]])

 # np.random.seed(seed=None) =&gt; 生成随机数前设置一个随机种子，保证生成的随机数一样
 np.random.seed(55)
 np.random.randint(10)               # 7
 np.random.randint(10)               # 8 : 未使用相同的seed,生成的随机数不一样

 np.random.seed(55)
 np.random.randint(10)               # 7 : 使用相同的seed,生成的随机数一样

 np.random.seed(55)
 np.random.randint(10)               # 7 : 使用相同的seed,生成的随机数一样

 np.random.seed(55)
 np.random.randint(100)              # 83 : seed相同，范围不同，生成的随机数不一样
</code></pre>
</li>
<li><p><code>np.random.shuffle</code>,<code>np.random.permutation</code>,<code>np.random.choice</code></p>
<pre><code class="lang-python"> &#39;&#39;&#39;
 X: 
 array([[ 0,  1,  2,  3,  4],
        [ 5,  6,  7,  8,  9],
        [10, 11, 12, 13, 14]])
 &#39;&#39;&#39;
 np.random.shuffle(X)        # 根据数组a的0轴进行随排列 =&gt; 行乱序，直接改变原数组
 X                           &#39;&#39;&#39;
                             array([[10, 11, 12, 13, 14],
                                    [ 5,  6,  7,  8,  9],
                                    [ 0,  1,  2,  3,  4]])
                             &#39;&#39;&#39;

 Y=np.random.permutation(X)  # 根据数组a的0轴进行随排列 =&gt; 行乱序，不改变原数组
                             &#39;&#39;&#39;
                             array([[10, 11, 12, 13, 14],
                                    [ 0,  1,  2,  3,  4],
                                    [ 5,  6,  7,  8,  9]])
                             &#39;&#39;&#39;

 np.random.choice(10,(2,3))  # ＝ np.random.randint(0,10,(2,3))
                             &#39;&#39;&#39;
                             array([[8, 7, 1],
                                    [5, 7, 8]])
                             &#39;&#39;&#39;
 np.random.choice(5, 3, replace=False, p=[0.1, 0, 0.3, 0.6, 0])  
                             &#39;&#39;&#39;
                             从 array[0,1,2,3,4] 中按概率p无重复的随机挑出3个（元素1，4取出的概率为0）
                             =&gt; array([2, 3, 0])
                             &#39;&#39;&#39;
</code></pre>
</li>
</ol>
<h2 id="header-7">ndarray数组的基础操作</h2>
<h3 id="header-8">变换</h3>
<ul>
<li><p>维度变换</p>
<table class="table">
<thead>
<tr>
<th style="text-align:left">方法</th>
<th style="text-align:left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>.reshape(shape)</code></td>
<td style="text-align:left">返回一个shape形状的新数组(注：数组元素个数一致)</td>
</tr>
<tr>
<td style="text-align:left"><code>.resize(shape)</code></td>
<td style="text-align:left">与<code>.reshape(shape)</code>功能一致，但修改原数组</td>
</tr>
<tr>
<td style="text-align:left"><code>.swapaxes(ax1,ax2)</code></td>
<td style="text-align:left">将数组<code>n</code>个维度中两个维度进行调换,返回一个新数组,原数组不变</td>
</tr>
<tr>
<td style="text-align:left"><code>.flatten()</code></td>
<td style="text-align:left">对数组进行降维,返回折叠后的一维数组,原数组不变</td>
</tr>
</tbody>
</table>
</li>
<li><p>元素类型变换</p>
<table class="table">
<thead>
<tr>
<th style="text-align:left">方法</th>
<th style="text-align:left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>dtype=</code></td>
<td style="text-align:left"><code>np.array(a,dtype=np.int32)</code> 创建时指定</td>
</tr>
<tr>
<td style="text-align:left"><code>astype()</code></td>
<td style="text-align:left"><code>a.astype(np.float)</code> 返回一个新数组</td>
</tr>
</tbody>
</table>
</li>
</ul>
<p><strong>Sample1:维度变换</strong> </p>
<pre><code class="lang-python">x=np.arange(10)         # array([0, 1, 2, 3, 4, 5, 6, 7, 8, 9])
</code></pre>
<pre><code class="lang-python"># 1. reshape(shape) =&gt; 原数组不变
x.reshape(2,5)         # array([[0, 1, 2, 3, 4],[5, 6, 7, 8, 9]])
                       # =&gt; Note: 原数组x不变 = array([0, 1, 2, 3, 4, 5, 6, 7, 8, 9])

x.reshape(2,-1)        # array([[0, 1, 2, 3, 4],[5, 6, 7, 8, 9]])
                       # =&gt; Note: x.reshape(3,-1)会出错，因为10不能被3整除

x.reshape(1,-1)        # array([[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]]) 
                       # =&gt; Note: 生成的是一个新的1*10的二维数组（矩阵）,不是一维数组（向量）
</code></pre>
<pre><code class="lang-python"># 2. resize(shape) =&gt; 原数组改变
x.resize(5,2)           # None           
x                       # array([[0, 1],[2, 3],[4, 5],[6, 7],[8, 9]])
</code></pre>
<pre><code class="lang-python"># 3. swapaxes(ax1,ax2) =&gt; 原数组不变
# 2, (5,2)
x.ndim,x.shape
x.swapaxes(0,1)         # array([[0, 2, 4, 6, 8],[1, 3, 5, 7, 9]])
                        # ＝&gt; 0,1 维度数据交换
</code></pre>
<pre><code class="lang-python"># 4. flatten() =&gt; 原数组不变
x.flatten()             # array([0, 1, 2, 3, 4, 5, 6, 7, 8, 9])
                        # =&gt; 压缩到一维
</code></pre>
<p><strong>Sample2:元素类型变换</strong> </p>
<pre><code class="lang-python">a                                   # array([1, 2, 3])
a.dtype                             # dtype(&#39;int64&#39;)
</code></pre>
<pre><code class="lang-python"># 1. dtype=xxx
c = np.array(a,dtype=np.int32)      # array([1, 2, 3], dtype=int32)
</code></pre>
<pre><code class="lang-python"># 2. astype(dtype)
d = a.astype(float)                 # array([1., 2., 3.])
</code></pre>
<h3 id="header-9">访问</h3>
<ul>
<li>索引: 获取数组中特定位置元素<ul>
<li>每个维度一个索引值,逗号分割</li>
</ul>
</li>
<li>切片: 获取数组元素子集<ul>
<li>每个维度一个切片,逗号分割</li>
<li>一个切片使用3元素冒号分割（<code>起始编号: 终止编号(不含): 步长</code>）</li>
</ul>
</li>
<li>注意：<ul>
<li>编号<code>0</code>开始从左递增,或<code>‐1</code>开始从右递减</li>
<li>切片产生的子数组是原数组的引用（创建与原数组无关的新的子数组可以使用<code>.copy()</code>复制一份）</li>
</ul>
</li>
</ul>
<p><strong>Sample1:索引</strong></p>
<ol>
<li><p>一维数组使用索引</p>
<pre><code class="lang-python"> &#39;&#39;&#39;
 x = np.arange(10)
 =&gt; array([0, 1, 2, 3, 4, 5, 6, 7, 8, 9])
 &#39;&#39;&#39;
 x[2]        # 2
 x[-1]       # 9
</code></pre>
<ol>
<li>二维数组使用索引<pre><code class="lang-python">&#39;&#39;&#39;
X = np.arange(10).reshape(3,5)
=&gt; array([[ 0,  1,  2,  3,  4],
        [ 5,  6,  7,  8,  9],
        [10, 11, 12, 13, 14]])
&#39;&#39;&#39;
X[2][2]     # 12
X[(2,2)]    # 12
X[2,2]      # 12 &lt;= 推荐方式
</code></pre>
</li>
</ol>
</li>
</ol>
<p><strong>Sample2:切片</strong></p>
<ol>
<li><p>一维数组使用切片</p>
<pre><code class="lang-python"> &#39;&#39;&#39;
 x = np.arange(10)
 =&gt; array([0, 1, 2, 3, 4, 5, 6, 7, 8, 9])
 &#39;&#39;&#39;
 x[5:9:2]    # [5,9),step:2  =&gt; array([5, 7])
 x[5:9]      # [5,9),step:1  =&gt; array([5, 6, 7, 8]) 

 x[:5]       # [s,5),s=0     =&gt; array([0, 1, 2, 3, 4])
 x[5:]       # [5,e),e=len   =&gt; array([5, 6, 7, 8, 9])

 x[::2]      # step:2        =&gt; array([0, 2, 4, 6, 8])
 x[::-1]     # step:-1       =&gt; array([9, 8, 7, 6, 5, 4, 3, 2, 1, 0]) 倒数
</code></pre>
</li>
<li><p>二维数组使用切片</p>
<pre><code class="lang-python"> &#39;&#39;&#39;
 X = np.arange(10).reshape(3,5)
 =&gt; array([[ 0,  1,  2,  3,  4],
           [ 5,  6,  7,  8,  9],
           [10, 11, 12, 13, 14]])
 &#39;&#39;&#39;
 X[0], X[0,:]    # 取第0行 array([0, 1, 2, 3, 4])

 X[:,0]          # 取第0列 array([ 0,  5, 10])

 X[::-1,::-1]    # 行列都反转
                 &#39;&#39;&#39;
                 array([[14, 13, 12, 11, 10],
                        [ 9,  8,  7,  6,  5],
                        [ 4,  3,  2,  1,  0]])
                 &#39;&#39;&#39;

 X[:2,::2]       # 取前2行，列step为2的元素
                 &#39;&#39;&#39;
                 array([[0, 2, 4],
                        [5, 7, 9]])
                 &#39;&#39;&#39;

 X[:2,:3]        # 取前2*3 (注意与X[:2][:3]的区别)
                 &#39;&#39;&#39;
                 array([[0, 1, 2],
                        [5, 6, 7]])
                 &#39;&#39;&#39;

 X[:2][:3]       # X[:2]数组的前3个元素
                 &#39;&#39;&#39;
                 X[:2] 
                     array([[0, 1, 2, 3, 4],
                            [5, 6, 7, 8, 9]])
                 X[:2][:3]
                     array([[0, 1, 2, 3, 4],
                            [5, 6, 7, 8, 9]])
                 &#39;&#39;&#39;
</code></pre>
</li>
<li><p>切片产生的子数组是原数组的引用</p>
<pre><code class="lang-python"> subX=X[:2,:3]           # 切片，产生子矩阵数组
                         &#39;&#39;&#39;
                         array([[0, 1, 2],
                                [5, 6, 7]])
                         &#39;&#39;&#39;

 subX[0,0]=100           # 1. 修改子矩阵[0,0]位置的元素值 
                         &#39;&#39;&#39;
                         array([[100,   1,   2],
                                 [  5,   6,   7]])
                         &#39;&#39;&#39;   
 X                       # 原数组中[0,0]位置的元素值也改变了
                         &#39;&#39;&#39;
                         array([[100,   1,   2,   3,   4],
                                [  5,   6,   7,   8,   9],
                                [ 10,  11,  12,  13,  14]])
                         &#39;&#39;&#39;  

 X[0,0]=50               # 2. 修改原数组[0,0]位置元素值
                         &#39;&#39;&#39;
                         array([[50,  1,  2,  3,  4],
                                [ 5,  6,  7,  8,  9],
                                [10, 11, 12, 13, 14]])
                         &#39;&#39;&#39;       
 subX                    # 子数组[0,0]位置的元素值也跟着改变了
                         &#39;&#39;&#39;
                         array([[50,  1,  2],
                                [ 5,  6,  7]])
                         &#39;&#39;&#39;

 subX=X[:2,:3].copy()    # 3. 使用`.copy()`创建与原数组无关的新的子数组
                         &#39;&#39;&#39;
                         array([[50,  1,  2],
                                [ 5,  6,  7]])
                         &#39;&#39;&#39;
 subX[0,0]=20            # 改变子数组[0,0]位置元素值
                         &#39;&#39;&#39;
                         array([[20,  1,  2],
                                [ 5,  6,  7]])
                         &#39;&#39;&#39;
 X                       # 原数组不受影响
                         &#39;&#39;&#39;
                         array([[50,  1,  2,  3,  4],
                                [ 5,  6,  7,  8,  9],
                                [10, 11, 12, 13, 14]]) 
                         &#39;&#39;&#39;
</code></pre>
</li>
</ol>
<h3 id="header-10">合并</h3>
<ul>
<li><code>np.concatenate((a1, a2, ...), axis=0, out=None)</code> <ul>
<li>同维度数组合并</li>
<li>不同维度需先<code>reshape</code></li>
</ul>
</li>
<li>more:<ul>
<li><code>np.stack(arrays, axis=0, out=None)</code> : Join a sequence of arrays along a new axis.</li>
<li><code>np.vstack(tup)</code> : Stack arrays in sequence vertically (row wise).<ul>
<li>垂直方向堆叠，水平方向size需相同(即列size需相同)</li>
<li>内部使用<code>np.concatenate</code></li>
<li>特：可直接合并一维数组（向量）</li>
</ul>
</li>
<li><code>np.hstack(tup)</code> : Stack arrays in sequence horizontally (column wise).<ul>
<li>水平方向堆叠，垂直方向size需相同(即行size需相同)</li>
<li>内部使用<code>np.concatenate</code></li>
</ul>
</li>
<li><code>np.dstack(tup)</code> : Stack arrays in sequence depth wise (along third dimension)</li>
</ul>
</li>
</ul>
<p><strong>Sample1:<code>np.concatenate</code></strong></p>
<ol>
<li><p>一维数组间（向量）合并</p>
<pre><code class="lang-python"> x=np.array([1,2,3])
 y=np.array([3,2,1])
 z=np.array([6,6,6])
 np.concatenate([x,y,z])     # 组成一个新的一维向量: 
                             &#39;&#39;&#39;
                             array([1, 2, 3, 3, 2, 1, 6, 6, 6])
                             &#39;&#39;&#39;
</code></pre>
</li>
<li><p>二维数组间（矩阵）合并</p>
<pre><code class="lang-python"> &#39;&#39;&#39;
 A : 2维矩阵（2*3）
     array([[1, 2, 3],
            [4, 5, 6]])
 &#39;&#39;&#39;

 np.concatenate([A,A])           # 1. 维度0上合并，组成一个新的4*3矩阵 
                                 &#39;&#39;&#39;
                                 array([[1, 2, 3],
                                        [4, 5, 6],
                                        [1, 2, 3],
                                        [4, 5, 6]])
                                 &#39;&#39;&#39;

 np.concatenate([A,A],axis=1)    # 维度1上合并,组成2*6矩阵
                                 &#39;&#39;&#39;
                                 array([[1, 2, 3, 1, 2, 3],
                                        [4, 5, 6, 4, 5, 6]])
                                 &#39;&#39;&#39;

 np.concatenate([A,A],axis=None) # = flatten 压缩成一维
                                 &#39;&#39;&#39;
                                 array([1, 2, 3, 4, 5, 6, 1, 2, 3, 4, 5, 6])
                                 &#39;&#39;&#39;
</code></pre>
</li>
<li><p>一维数组（向量）合并到二维数组（矩阵）中</p>
<pre><code class="lang-python"> &#39;&#39;&#39;
 z : 1维向量
     array([6,6,6])

 A : 2维矩阵（2*3）
     array([[1, 2, 3],
            [4, 5, 6]])
 &#39;&#39;&#39;
 np.concatenate([A,z.reshape(1,-1)])     # concatenate只能合并相同维度的数组，z.reshape成2维后再合并
                                         &#39;&#39;&#39;
                                         array([[1, 2, 3],
                                                [4, 5, 6],
                                                [6, 6, 6]])
                                         &#39;&#39;&#39;
</code></pre>
</li>
</ol>
<p><strong>Sample2:<code>np.vstack</code>,<code>np.hstack</code></strong></p>
<ol>
<li><p><code>np.vstack</code></p>
<pre><code class="lang-python"> &#39;&#39;&#39;
 z : 1维向量
     array([6,6,6])

 A : 2维矩阵（2*3）
     array([[1, 2, 3],
            [4, 5, 6]])

 B: 2维矩阵（2*2）
     array([[1,2],
            [3,4]])  
 &#39;&#39;&#39;

 # 1. 同维数组堆叠
 np.vstack([A,A])    # 垂直方向堆叠 A: 2*3矩阵 &amp; A: 2*3矩阵 =&gt; 4*3矩阵
                     &#39;&#39;&#39;
                     array([[1, 2, 3],
                            [4, 5, 6],
                            [1, 2, 3],
                            [4, 5, 6]])
                     &#39;&#39;&#39;

 # 2. 不同维数组堆叠
 np.vstack([A,z])    # 垂直方向堆叠 A: 2*3矩阵 &amp; z: 1*3向量 =&gt; 3*3矩阵
                     &#39;&#39;&#39;
                     array([[1, 2, 3],
                            [4, 5, 6],
                            [6, 6, 6]])
                     &#39;&#39;&#39;
</code></pre>
</li>
<li><p><code>np.hstack</code></p>
<pre><code class="lang-python"> &#39;&#39;&#39;
 A : 2维矩阵（2*3）
     array([[1, 2, 3],
            [4, 5, 6]])

 B: 2维矩阵（2*2）
     array([[1,2],
            [3,4]])    
 &#39;&#39;&#39;             
 np.hstack([A,B])    # 水平方向堆叠 =&gt; A: 2*3矩阵 &amp; B: 2*2矩阵 =&gt; 2*5矩阵
                     &#39;&#39;&#39;
                     array([[1, 2, 3, 1, 2],
                            [4, 5, 6, 3, 4]])
                     &#39;&#39;&#39;
</code></pre>
</li>
</ol>
<h3 id="header-11">分割</h3>
<ul>
<li><code>np.split(ary, indices_or_sections, axis=0)</code></li>
<li>more:<ul>
<li><code>np.array_split</code> : Split an array into multiple sub-arrays of equal or near-equal size. Does not raise an exception if an equal division cannot be made.</li>
<li><code>np.hsplit</code> : Split array into multiple sub-arrays horizontally (column-wise).</li>
<li><code>np.vsplit</code> : Split array into multiple sub-arrays vertically (row wise).</li>
<li><code>np.dsplit</code> : Split array into multiple sub-arrays along the 3rd axis (depth).</li>
</ul>
</li>
</ul>
<p><strong>Sample1:<code>np.split</code></strong></p>
<ol>
<li><p>一维数组（向量）分割</p>
<pre><code class="lang-python"> &#39;&#39;&#39;
 x
 array([0, 1, 2, 3, 4, 5, 6, 7, 8, 9])
 &#39;&#39;&#39;
 np.split(x,[3,7]) # 2个分割点：3,7 =&gt; 将数组分割成三段 =&gt; 生成3个数组
                   &#39;&#39;&#39;
                   [array([0, 1, 2]), array([3, 4, 5, 6]), array([7, 8, 9])]
                   &#39;&#39;&#39;

 np.split(x,[5])   # 1个分割点：5 =&gt; 将数组分割成两段 =&gt; 生成2个数组
                   &#39;&#39;&#39;
                   [array([0, 1, 2, 3, 4]), array([5, 6, 7, 8, 9])]
                   &#39;&#39;&#39;
</code></pre>
</li>
<li><p>二维数组（矩阵）分割：</p>
<pre><code class="lang-python"> &#39;&#39;&#39;
 A
 array([[ 0,  1,  2,  3],
        [ 4,  5,  6,  7],
        [ 8,  9, 10, 11],
        [12, 13, 14, 15]])
 &#39;&#39;&#39;

 np.split(A,[2])         # 基于维度0，即行，分割 =&gt; 2个2*4数组
                         &#39;&#39;&#39;
                         [
                          array([[0, 1, 2, 3],
                                 [4, 5, 6, 7]]), 
                          array([[ 8,  9, 10, 11],
                                 [12, 13, 14, 15]])
                         ]
                         &#39;&#39;&#39;

 np.split(A,[2],axis=1)  # 基于维度1，即列，分割 =&gt; 2个4*2数组
                         &#39;&#39;&#39;
                         [
                          array([[ 0,  1],
                                 [ 4,  5],
                                 [ 8,  9],
                                 [12, 13]]), 
                          array([[ 2,  3],
                                 [ 6,  7],
                                 [10, 11],
                                 [14, 15]])
                         ]
                         &#39;&#39;&#39;
</code></pre>
</li>
</ol>
<p><strong>Sample2:<code>np.vsplit</code>,<code>np.hsplit</code></strong></p>
<ol>
<li><p><code>np.vsplit</code></p>
<pre><code class="lang-python"> &#39;&#39;&#39;
 A
 array([[ 0,  1,  2,  3],
        [ 4,  5,  6,  7],
        [ 8,  9, 10, 11],
        [12, 13, 14, 15]])
 &#39;&#39;&#39;
 np.vsplit(A,[2])    # 垂直方向分割，分为上下两部分  =&gt; 2个2*4数组
                     &#39;&#39;&#39;
                     [
                         array([[0, 1, 2, 3],
                                [4, 5, 6, 7]]),
                         array([[ 8,  9, 10, 11],
                                [12, 13, 14, 15]])
                     ]
</code></pre>
</li>
<li><p><code>np.hsplit</code></p>
<pre><code class="lang-python"> &#39;&#39;&#39;
 x
 array([0, 1, 2, 3, 4, 5, 6, 7, 8, 9])

 A
 array([[ 0,  1,  2,  3],
        [ 4,  5,  6,  7],
        [ 8,  9, 10, 11],
        [12, 13, 14, 15]])
 &#39;&#39;&#39;

 np.hsplit(x,[3,7]) # 水平方向分割,分为三部分部分 =&gt; 3个1维数组
                     &#39;&#39;&#39;
                     [
                         array([0, 1, 2]), 
                         array([3, 4, 5, 6]), 
                         array([7, 8, 9])
                     ]
                     &#39;&#39;&#39;

 np.hsplit(A,[2])    # 水平方向分割，分为左右两部分 =&gt; 2个4*2数组
                     &#39;&#39;&#39;
                     [
                         array([[ 0,  1],
                                 [ 4,  5],
                                 [ 8,  9],
                                 [12, 13]]), 
                         array([[ 2,  3],
                                 [ 6,  7],
                                 [10, 11],
                                 [14, 15]])
                     ]
                     &#39;&#39;&#39;
</code></pre>
</li>
</ol>
<p><strong>Sample3:应用</strong></p>
<pre><code class="lang-python">&#39;&#39;&#39;
data : 4*4矩阵
        array([[ 0,  1,  2,  3],
               [ 4,  5,  6,  7],
               [ 8,  9, 10, 11],
               [12, 13, 14, 15]])
&#39;&#39;&#39;

X,Y=np.hsplit(data,[-1])    # 分割出最后一列
                              &#39;&#39;&#39;
                               X: 4*3矩阵
                                 array([[ 0,  1,  2],
                                       [ 4,  5,  6],
                                       [ 8,  9, 10],
                                       [12, 13, 14]])
                               Y: 4*1矩阵
                                 array([[ 3],
                                       [ 7],
                                       [11],
                                       [15]])
                              &#39;&#39;&#39;

y=Y[:,0]                    # 取列(Y的子集，是Y的引用) =&gt; 1*4向量
                                &#39;&#39;&#39;
                                 array([ 3,  7, 11, 15])
                                &#39;&#39;&#39;
</code></pre>
<h2 id="header-12">运算</h2>
<p>作用于数组的每一个元素</p>
<ul>
<li><p>基本操作符: </p>
<ul>
<li><code>+</code>,<code>-</code>,<code>*</code>,<code>/</code>,<code>//</code>,<code>%</code>,<code>**</code></li>
<li><code>&gt;</code>,<code>&lt;</code>,<code>&gt;=</code>,<code>&lt;=</code>,<code>==</code>,<code>!=</code></li>
</ul>
</li>
<li><p>一元函数: 数组中各元素进行对应运算</p>
<table class="table">
<thead>
<tr>
<th style="text-align:left">函数</th>
<th style="text-align:left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>np.abs(x)</code> <code>np.fabs(x)</code></td>
<td style="text-align:left">计算数组各元素的绝对值</td>
</tr>
<tr>
<td style="text-align:left"><code>np.sqrt(x)</code></td>
<td style="text-align:left">计算数组各元素的平方根</td>
</tr>
<tr>
<td style="text-align:left"><code>np.square(x)</code></td>
<td style="text-align:left">计算数组各元素的平方</td>
</tr>
<tr>
<td style="text-align:left"><code>np.log(x)</code> <code>np.log10(x)</code> <code>np.log2(x)</code></td>
<td style="text-align:left">计算数组各元素的自然对数、10底对数和2底对数</td>
</tr>
<tr>
<td style="text-align:left"><code>np.ceil(x)</code> <code>np.floor(x)</code></td>
<td style="text-align:left">计算数组各元素的ceiling值、floor值</td>
</tr>
<tr>
<td style="text-align:left"><code>np.rint(x)</code></td>
<td style="text-align:left">计算数组各元素的四舍五入值</td>
</tr>
<tr>
<td style="text-align:left"><code>np.modf(x)</code></td>
<td style="text-align:left">将数组各元素的小数和整数部分以两个独立数组形式返回</td>
</tr>
<tr>
<td style="text-align:left"><code>np.cos(x)</code> <code>np.cosh(x)</code> <code>np.sin(x)</code> <code>np.sinh(x)</code> <code>np.tan(x)</code> <code>np.tanh(x)</code></td>
<td style="text-align:left">计算数组各元素的普通型和双曲型三角函数</td>
</tr>
<tr>
<td style="text-align:left"><code>np.exp(x)</code></td>
<td style="text-align:left">计算数组各元素的指数值</td>
</tr>
<tr>
<td style="text-align:left"><code>np.sign(x)</code></td>
<td style="text-align:left">计算数组各元素的符号值,<code>1(+)</code>, <code>0</code>, <code>‐1(‐)</code></td>
</tr>
</tbody>
</table>
</li>
<li><p>二元函数: 两个数组各元素进行对应运算</p>
<table class="table">
<thead>
<tr>
<th style="text-align:left">函数</th>
<th style="text-align:left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>np.maximum(x,y)</code> <code>np.fmax()</code> <code>np.minimum(x,y)</code> <code>np.fmin()</code></td>
<td style="text-align:left">元素级的最大值/最小值计算</td>
</tr>
<tr>
<td style="text-align:left"><code>np.mod(x,y)</code></td>
<td style="text-align:left">元素级的模运算</td>
</tr>
<tr>
<td style="text-align:left"><code>np.copysign(x,y)</code></td>
<td style="text-align:left">将数组y中各元素值的符号赋值给数组x对应元素</td>
</tr>
</tbody>
</table>
</li>
</ul>
<h3 id="header-13">基本运算</h3>
<ul>
<li><code>+</code>,<code>-</code>,<code>*</code>,<code>/</code>,<code>//</code>,<code>%</code>,<code>**</code></li>
<li><code>&gt;</code>,<code>&lt;</code>,<code>&gt;=</code>,<code>&lt;=</code>,<code>==</code>,<code>!=</code> (得到bool数组)</li>
</ul>
<p>作用于数组的每一个元素（与python的list不同）</p>
<ol>
<li><p>与标量</p>
<pre><code class="lang-python"> &#39;&#39;&#39;
 X: 3*5 矩阵
     array([[ 1,  2,  3,  4,  5],
            [ 6,  7,  8,  9, 10],
            [11, 12, 13, 14, 15]])
 &#39;&#39;&#39;
 X+2         &#39;&#39;&#39;
             array([[ 3,  4,  5,  6,  7],
                [ 8,  9, 10, 11, 12],
                [13, 14, 15, 16, 17]])
             &#39;&#39;&#39;

 X-2         &#39;&#39;&#39;
             array([[-1,  0,  1,  2,  3],
                    [ 4,  5,  6,  7,  8],
                    [ 9, 10, 11, 12, 13]])
             &#39;&#39;&#39;

 X*2         &#39;&#39;&#39;
             array([[ 2,  4,  6,  8, 10],
                    [12, 14, 16, 18, 20],
                    [22, 24, 26, 28, 30]])
             &#39;&#39;&#39;            

 X/2         &#39;&#39;&#39;
             array([[0, 1, 1, 2, 2],
                    [3, 3, 4, 4, 5],
                    [5, 6, 6, 7, 7]])
             &#39;&#39;&#39;

 X//2        &#39;&#39;&#39;
             array([[0, 1, 1, 2, 2],
                    [3, 3, 4, 4, 5],
                    [5, 6, 6, 7, 7]])
             &#39;&#39;&#39;

 X%2         &#39;&#39;&#39;
             array([[1, 0, 1, 0, 1],
                    [0, 1, 0, 1, 0],
                    [1, 0, 1, 0, 1]])
             &#39;&#39;&#39;

 1/X         &#39;&#39;&#39;
             array([[1.        , 0.5       , 0.33333333, 0.25      , 0.2       ],
                    [0.16666667, 0.14285714, 0.125     , 0.11111111, 0.1       ],
                    [0.09090909, 0.08333333, 0.07692308, 0.07142857, 0.06666667]])
             &#39;&#39;&#39;

 X&gt;5         &#39;&#39;&#39;
             array([[False, False, False, False, False],
                    [False,  True,  True,  True,  True],
                    [ True,  True,  True,  True,  True]])
             &#39;&#39;&#39;
</code></pre>
</li>
<li><p>数组与数组</p>
<pre><code class="lang-python"> &#39;&#39;&#39;
 A: 2*2 矩阵
     array([[0, 1],
            [2, 3]])

 B: 2*2 矩阵
     array([[10, 10],
            [10, 10]])
 &#39;&#39;&#39;

 A+B     &#39;&#39;&#39;
         array([[10, 11],
                [12, 13]])
         &#39;&#39;&#39;

 A-B     &#39;&#39;&#39;
         array([[-10,  -9],
                [ -8,  -7]])
         &#39;&#39;&#39;

 A*B     &#39;&#39;&#39;
         array([[ 0, 10],
                [20, 30]])
         &#39;&#39;&#39;

 A/B     &#39;&#39;&#39;
         array([[0. , 0.1],
                [0.2, 0.3]])
         &#39;&#39;&#39;

 A&gt;B    &#39;&#39;&#39;
        array([[False, False],
               [False, False]])
        &#39;&#39;&#39;
</code></pre>
</li>
<li><p>矩阵和向量: 向量和矩阵每一行做运算</p>
<pre><code class="lang-python"> &#39;&#39;&#39;
 v: 一维向量
     array([1, 2])

 A: 2*2 矩阵
     array([[0, 1],
            [2, 3]])
 &#39;&#39;&#39;

 v+A     &#39;&#39;&#39;
         array([[1, 3],
                [3, 5]])
         &#39;&#39;&#39;

 v-A     &#39;&#39;&#39;
         array([[ 1,  1],
                [-1, -1]])
         &#39;&#39;&#39;

 v*A     &#39;&#39;&#39;
         array([[0, 2],
                [2, 6]])
         &#39;&#39;&#39;

 A/v     &#39;&#39;&#39;
         array([[0. , 0.5],
                [2. , 1.5]])
         &#39;&#39;&#39;

 v&gt;A     &#39;&#39;&#39;
         array([[ True,  True],
                [False, False]])
         &#39;&#39;&#39;

 np.vstack([v]*A.shape[0])+A     # = `v+A`
                                 &#39;&#39;&#39;
                                 A.shape                   : (2,2)
                                 [v]*A.shape[0]            : [array([1, 2]), array([1, 2])]
                                 np.vstack([v]*A.shape[0]) : 垂直方向上堆叠2个v，生成2*2的矩阵
                                                             array([[1, 2],
                                                                    [1, 2]])
                                 =&gt;
                                     array([[1, 3],
                                            [3, 5]])
                                 &#39;&#39;&#39;

 np.tile(v,(2,1))+A              # = `v+A`
                                 &#39;&#39;&#39;
                                 `np.tile(A,repeats)`
                                 np.tile(v,(2,1)) : 将v，行方向上重复2次，列方向上重复1次，形成2*2矩阵
                                                     array([[1, 2],
                                                            [1, 2]])
                                 =&gt; 
                                     array([[1, 3],
                                         [3, 5]])
                                 &#39;&#39;&#39;
</code></pre>
</li>
</ol>
<h3 id="header-14">常用运算函数</h3>
<ol>
<li><p>一元函数</p>
<pre><code class="lang-python"> &#39;&#39;&#39;
 X: 3*5 矩阵
     array([[ 1,  2,  3,  4,  5],
            [ 6,  7,  8,  9, 10],
            [11, 12, 13, 14, 15]])
 &#39;&#39;&#39;

 np.sin(X)       &#39;&#39;&#39;
                 array([[ 0.84147098,  0.90929743,  0.14112001, -0.7568025 , -0.95892427],
                        [-0.2794155 ,  0.6569866 ,  0.98935825,  0.41211849, -0.54402111],
                        [-0.99999021, -0.53657292,  0.42016704,  0.99060736,  0.65028784]])
                 &#39;&#39;&#39;

 np.power(3,X)   # 3^x , 同 3**X
                 &#39;&#39;&#39;
                 array([[       3,        9,       27,       81,      243],
                        [     729,     2187,     6561,    19683,    59049],
                        [  177147,   531441,  1594323,  4782969, 14348907]])
                 &#39;&#39;&#39;

 np.exp(X)       # e^x
                 &#39;&#39;&#39;
                 array([[2.71828183e+00, 7.38905610e+00, 2.00855369e+01, 5.45981500e+01, 1.48413159e+02],
                        [4.03428793e+02, 1.09663316e+03, 2.98095799e+03, 8.10308393e+03, 2.20264658e+04],
                        [5.98741417e+04, 1.62754791e+05, 4.42413392e+05, 1.20260428e+06, 3.26901737e+06]])
                 &#39;&#39;&#39;

 np.log(X)       # ln(X)
                 &#39;&#39;&#39;
                 array([[0.        , 0.69314718, 1.09861229, 1.38629436, 1.60943791],
                        [1.79175947, 1.94591015, 2.07944154, 2.19722458, 2.30258509],
                        [2.39789527, 2.48490665, 2.56494936, 2.63905733, 2.7080502 ]])
                 &#39;&#39;&#39;

 np.log2(X)      # log2(X)
                 &#39;&#39;&#39;
                 array([[0.        , 1.        , 1.5849625 , 2.        , 2.32192809],
                        [2.5849625 , 2.80735492, 3.        , 3.169925  , 3.32192809],
                        [3.45943162, 3.5849625 , 3.70043972, 3.80735492, 3.9068906 ]])
                 &#39;&#39;&#39;

 np.log10(X)     # log10(X)
                 &#39;&#39;&#39;
                 array([[0.        , 0.30103   , 0.47712125, 0.60205999, 0.69897   ],
                        [0.77815125, 0.84509804, 0.90308999, 0.95424251, 1.        ],
                        [1.04139269, 1.07918125, 1.11394335, 1.14612804, 1.17609126]])  
                 &#39;&#39;&#39;

 np.sign(X)      &#39;&#39;&#39;
                 array([[0, 1, 1, 1, 1],
                        [1, 1, 1, 1, 1],
                        [1, 1, 1, 1, 1]])
                 &#39;&#39;&#39;
</code></pre>
</li>
<li><p>二元函数</p>
<pre><code class="lang-python"> &#39;&#39;&#39;
 A: 2*2 矩阵
     array([[0, 1],
            [2, 3]])

 B: 2*2 矩阵
     array([[10.0, 10.0],
            [10.0, 10.0]])

 v: 一维向量
     array([1, 2])
 &#39;&#39;&#39;

 np.minimum(A,B)     &#39;&#39;&#39;
                     B是浮点数，所以运算结果为浮点数
                     array([[0., 1.],
                            [2., 3.]])
                     &#39;&#39;&#39;

 np.maximum(A,v)     &#39;&#39;&#39;
                     array([[1, 2],
                            [2, 3]])
                     &#39;&#39;&#39;

 np.mod(A,B)         &#39;&#39;&#39;
                     = A%B
                     array([[0., 1.],
                            [2., 3.]])
                     &#39;&#39;&#39;

 np.mode(A,v)        &#39;&#39;&#39;
                     = A%v
                     array([[0, 1],
                            [0, 1]])
                     &#39;&#39;&#39;
</code></pre>
</li>
</ol>
<h3 id="header-15">线性运算</h3>
<ol>
<li><p>向量</p>
<pre><code class="lang-python"> &#39;&#39;&#39;
 v: array([1, 2])
 w: array([2, 3])
 &#39;&#39;&#39;

 v.T         # 1. 转置：还是1维行向量，无变化 =&gt; array([1,2])

 v.dot(w)    # 2. 点积（v·w）： 结果是一个标量(对应元素相乘后相加) 1*2+2*3 =&gt; 8
</code></pre>
</li>
<li><p>矩阵</p>
<pre><code class="lang-python"> &#39;&#39;&#39;
 A: 2*2 矩阵
     array([[0, 1],
            [2, 3]])

 B: 2*3 矩阵
     array([[0, 1, 2],
            [3, 4, 5]])
 &#39;&#39;&#39;
 A.T                         # 1. 转置: 行列交换
                             &#39;&#39;&#39;
                             array([[0, 2],
                                    [1, 3]])
                             &#39;&#39;&#39;

 invA = np.linalg.inv(A)     # 2. 逆
                             &#39;&#39;&#39;
                             array([[-1.5,  0.5],
                                    [ 1. ,  0. ]])
                             &#39;&#39;&#39;

 pinvB = np.linalg.pinv(B)   # 3. 伪逆： 方阵才有逆，非方阵可使用伪逆（近似逆）
                             &#39;&#39;&#39;
                             array([[-0.77777778,  0.27777778],
                                    [-0.11111111,  0.11111111],
                                    [ 0.55555556, -0.05555556]])
                             &#39;&#39;&#39;

 A.dot(B)                    # 4. 矩阵乘法（A·B）：2*2 · 2*3 =&gt; 2*3
                             &#39;&#39;&#39;
                             array([[ 3,  4,  5],
                                    [ 9, 14, 19]])
                             &#39;&#39;&#39;

 A.dot(invA)                 # 5. A · invA  =&gt; 单位矩阵
                             &#39;&#39;&#39;
                             array([[1., 0.],
                                    [0., 1.]])
                             &#39;&#39;&#39;

 B.dot(pinvB)                # 6. B · pinvB =&gt; 近似单位矩阵：主对角线为1，次对角线几乎为0（浮点误差造成）
                             &#39;&#39;&#39;
                             array([[ 1.00000000e+00, -1.11022302e-16],
                                    [ 2.66453526e-15,  1.00000000e+00]])
                             &#39;&#39;&#39;
</code></pre>
</li>
<li><p>向量 &amp; 矩阵</p>
<pre><code class="lang-python"> &#39;&#39;&#39;
 v: array([1, 2])

 A: 2*2 矩阵
     array([[0, 1],
            [2, 3]])
 &#39;&#39;&#39;

 v.dot(A)                &#39;&#39;&#39;
                         v:1*2 · A:2*2 : 1*2 
                         =&gt; auto transfer to vector, 1 dim
                         =&gt; array([4, 7])
                         &#39;&#39;&#39;

 A.dot(v)                &#39;&#39;&#39;
                         A:2*2 · v:1*2 (auto treat as 2*1) : 2*1 
                         =&gt; auto transfer to vector, 1 dim
                         =&gt; array([2, 8])
</code></pre>
</li>
</ol>
<h2 id="header-16">高级</h2>
<h3 id="header-17">聚合(统计函数)</h3>
<table class="table">
<thead>
<tr>
<th style="text-align:left">函数</th>
<th style="text-align:left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>sum(a, axis=None)</code></td>
<td style="text-align:left">元素之和</td>
</tr>
<tr>
<td style="text-align:left"><code>min(a, axis=None)</code> <code>max(a, axis=None)</code></td>
<td style="text-align:left">最小值、最大值</td>
</tr>
<tr>
<td style="text-align:left"><code>average(a, axis=None,weights=None)</code></td>
<td style="text-align:left">加权平均值（expection）</td>
</tr>
<tr>
<td style="text-align:left"><code>ptp(a, axis=None)</code></td>
<td style="text-align:left">元素最大值与最小值的差</td>
</tr>
<tr>
<td style="text-align:left"><code>median(a, axis=None)</code></td>
<td style="text-align:left">中位数(中值)</td>
</tr>
<tr>
<td style="text-align:left"><code>mean(a, axis=None)</code></td>
<td style="text-align:left">均值</td>
</tr>
<tr>
<td style="text-align:left"><code>std(a, axis=None)</code></td>
<td style="text-align:left">标准差</td>
</tr>
<tr>
<td style="text-align:left"><code>var(a, axis=None)</code></td>
<td style="text-align:left">方差</td>
</tr>
<tr>
<td style="text-align:left"><code>percentile(a,q, axis=None)</code></td>
<td style="text-align:left">百分位</td>
</tr>
<tr>
<td style="text-align:left"><code>prod(a, axis=None)</code></td>
<td style="text-align:left">元素乘积</td>
</tr>
</tbody>
</table>
<p>Note: <code>axis=None</code> 是统计函数的标配参数</p>
<p><strong>Sample</strong></p>
<pre><code class="lang-python">&#39;&#39;&#39;
X=np.arange(16).reshape(4,-1)
=&gt;
    array([[ 0,  1,  2,  3],
           [ 4,  5,  6,  7],
           [ 8,  9, 10, 11],
           [12, 13, 14, 15]])
&#39;&#39;&#39;

np.sum(X)                                   # 120
np.sum(X,axis=0)                            # 维度0上聚合（压缩维度0，即行）=&gt; 每列的和 =&gt; array([24, 28, 32, 36])
np.sum(X,axis=1)                            # 维度1上聚合（压缩维度1，即列）=&gt; 每行的和 =&gt; array([ 6, 22, 38, 54])

np.max(X)                                   # 15
np.max(X,aixs=0)                            # 维度0上聚合 =&gt; 每列最大值 =&gt; array([12, 13, 14, 15])
np.max(X,axis=1)                            # 维度1上聚合 =&gt; 每行最大值 =&gt; array([12, 13, 14, 15])

np.mean(X)                                  # 7.5
np.mean(X,axis=0)                           # 维度0上聚合 =&gt; 每列均值 =&gt; array([6., 7., 8., 9.])
np.mean(X,axis=1)                           # 维度1上聚合 =&gt; 每行均值 =&gt; array([ 1.5,  5.5,  9.5, 13.5])

np.average(X)                               # 7.5
np.average(X,axis=0)                        # 维度0上聚合 =&gt; 每列平均值 =&gt; array([6., 7., 8., 9.])
np.average(X,axis=0,,weights=[10,5,1,4])    # 维度0上聚合 =&gt; 每列加权平均值 =&gt; array([3.8, 4.8, 5.8, 6.8])

np.percentile(X,q=25)                       # 百分位, 25%的元素都是小于等于的值 =&gt; 3.75
np.percentile(X,q=50)                       # = np.median(X) =&gt; 7.5
np.percentile(X,q=0)                        # = np.min(X)    =&gt; 0.0
np.percentile(X,q=100)                      # = np.max(X)    =&gt; 15.0
np.percentile(X,q=[0,25,50,100])            # array([ 0.  ,  3.75,  7.5 , 15.  ])
np.percentile(X,q=50,axis=0)                # 维度0上聚合 =&gt; array([6., 7., 8., 9.])
np.percentile(X,q=50,axis=1)                # 维度0上聚合 =&gt; array([ 1.5,  5.5,  9.5, 13.5])

np.prod(X)                                  # 0
np.prod(X,axis=0)                           # 维度0上聚合 =&gt; array([   0,  585, 1680, 3465])
np.prod(X,axis=1)                           # 维度1上聚合 =&gt; array([    0,   840,  7920, 32760])

x=np.random.normal(0,1,size=1000000)        #［0,1) 正态分布随机浮点一维数组
np.mean(x)                                  # -0.00019733605984642867 &lt;= 均值，非常趋近0
np.std(x)                                   # 1.0001027608240785      &lt;= 标准差，非常趋近1
np.var(x)                                   # 1.000205532207944       &lt;= 方差，非常趋近1
</code></pre>
<h3 id="header-18">索引函数</h3>
<table class="table">
<thead>
<tr>
<th style="text-align:left">函数</th>
<th style="text-align:left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>argmin(a, axis=None)</code> <code>argmax(a, axis=None)</code></td>
<td style="text-align:left">计算数组a中元素最小值、最大值所在的索引</td>
</tr>
<tr>
<td style="text-align:left"><code>unravel_index(index, shape)</code></td>
<td style="text-align:left">将一维索引重塑成多维索引</td>
</tr>
<tr>
<td style="text-align:left"><code>argsort(a, axis=-1, kind=&#39;quicksort&#39;, order=None)</code></td>
<td style="text-align:left">元素排好序，对应的索引组成的数组</td>
</tr>
<tr>
<td style="text-align:left"><code>argpartition(a, kth, axis=-1, kind=&#39;introselect&#39;, order=None)</code></td>
<td style="text-align:left">元素分区后，对应的索引组成的数组</td>
</tr>
</tbody>
</table>
<pre><code class="lang-python">&#39;&#39;&#39;
X
array([[ 0,  1,  2,  3],
       [ 4,  5,  6,  7],
       [ 8,  9, 10, 11],
       [12, 13, 14, 15]])
&#39;&#39;&#39;
np.argmin(X)                        # 扁平化后的，最小值的下标 =&gt; 0
np.argmax(X)                        # 扁平化后的，最大值的下标 =&gt; 15
np.argmin(X,axis=0)                 # 维度0上聚合 =&gt; 每列最小值所在的下标 =&gt; array([0, 0, 0, 0])

np.unravel_index(12,shape=(4,4))    # (3, 0) &lt;= 将12重塑成多维下标
</code></pre>
<pre><code class="lang-python">np.random.shuffle(X)                # 对X进行乱序处理
X                                   &#39;&#39;&#39;
                                    array([[ 0,  1,  2,  3],
                                           [ 8,  9, 10, 11],
                                           [12, 13, 14, 15],
                                           [ 4,  5,  6,  7]])
                                    &#39;&#39;&#39;


np.argsort(x,axis=0)                &#39;&#39;&#39;
                                    array([[0, 0, 0, 0],
                                           [3, 3, 3, 3],
                                           [1, 1, 1, 1],
                                           [2, 2, 2, 2]])
                                    &#39;&#39;&#39;

np.sort(x,axis=0)                   &#39;&#39;&#39;
                                    array([[ 0,  1,  2,  3],
                                           [ 4,  5,  6,  7],
                                           [ 8,  9, 10, 11],
                                           [12, 13, 14, 15]])
                                    &#39;&#39;&#39;
</code></pre>
<pre><code class="lang-python">x=np.arange(10)                     # array([ 0,  1,  2,  3,  4,  5,  6,  7,  8,  9])
np.random.shuffle(x)                # 对x进行乱序处理
x                                   # array([3, 5, 2, 7, 6, 0, 8, 1, 9, 4])


np.argpartition(x,5)                # &lt;5,=5,&gt;5 =&gt; array([5, 0, 2, 7, 9, 1, 4, 6, 8, 3])
np.partition(x,3)                   # &lt;5,=5,&gt;5 =&gt; array([0, 3, 2, 1, 4, 5, 6, 8, 9, 7])

np.argpartition(x,[3,7])            # array([5, 7, 2, 0, 9, 1, 4, 3, 8, 6])
np.partition(x,[3,7])               # array([0, 1, 2, 3, 4, 5, 6, 7, 9, 8])
</code></pre>
<h3 id="header-19">Fancy Indexing</h3>
<p>应用：统计判断，方便抽出符合条件的元素 (且返回的数组维度可控）</p>
<ol>
<li><p>使用索引数组</p>
<pre><code class="lang-python"> &#39;&#39;&#39;
 x = np.arange(16)                 
     array([ 0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14, 15])
 &#39;&#39;&#39;

 x_inds=[1,3,7,12]              
 x[x_inds]                       # array([ 1,  3,  7, 12])

 x_inds=np.array([[0,2],[1,3]])
 x[x_inds]                       &#39;&#39;&#39;
                                 array([[0, 2],
                                        [1, 3]])
                                 &#39;&#39;&#39;

 &#39;&#39;&#39;
 X=x.reshape(4,-1)
     array([[ 0,  1,  2,  3],
            [ 4,  5,  6,  7],
            [ 8,  9, 10, 11],
            [12, 13, 14, 15]])

 &#39;&#39;&#39;
 row_inds = np.array([0,1,2])
 col_inds = np.array([1,2,3])
 X[row_inds,0]                   # array([0, 4, 8])
 X[0,col_inds]                   # array([1, 2, 3])
 X[row_inds,col_inds]            # array([ 1,  6, 11]) &lt;= nodes [0,1],[1,2],[2,3]
</code></pre>
</li>
<li><p>使用bool值数组（array中的元素进行批量比较，得到bool值数组）</p>
<pre><code class="lang-python"> &#39;&#39;&#39;
 x = np.arange(5)                 
     array([ 0,  1,  2,  3,  4 ])
 &#39;&#39;&#39;
 x&lt;3                         # array([ True,  True,  True, False, False])
 x[x&lt;3]                      # array([0, 1, 2])

 2*x == 24-4*x               # array([False, False, False, False,  True])
 x[2*x == 24-4*x]            # array([4])

 x%2==0                      # array([ True, False,  True, False,  True])
 x[x%2==0]                   # array([0, 2, 4])

 np.sum(x&lt;3)                 # 3
 np.count_nonzero(x&lt;3)       # 3

 np.sum((x&gt;2)&amp;(x&lt;4))         # 1         &lt;= 多个条件，使用位运算符
 np.sum((x%2==0)|(x&gt;3))      # 3
 np.sum(~(x==0))             # 4

 np.any(x==0)                # True
 np.any(x&lt;0)                 # False
 np.all(x&gt;=0)                # True

 &#39;&#39;&#39;
 X=x.reshape(4,-1)
     array([[ 0,  1,  2,  3],
            [ 4,  5,  6,  7],
            [ 8,  9, 10, 11],
            [12, 13, 14, 15]])
 &#39;&#39;&#39;
 X&lt;6                         &#39;&#39;&#39;
                             array([[ True,  True,  True,  True],
                                    [ True,  True, False, False],
                                    [False, False, False, False],
                                    [False, False, False, False]])
                             &#39;&#39;&#39;
 X[X&lt;6]                      # array([0, 1, 2, 3, 4, 5])

 X[:,3]%3==0                 # array([ True, False, False,  True]) &lt;= 每行最后一个元素能否被3整除
 X[X[:,3]%3==0,:]            # 选出最后一个元素可被3整除的行
                             &#39;&#39;&#39;
                             array([[ 0,  1,  2,  3],
                                    [12, 13, 14, 15]])
                             &#39;&#39;&#39;

 np.sum(X%2==0)              # 8                     &lt;= 统计偶数个数
 np.sum(X%2==0,axis=0)       # array([4, 0, 4, 0])   &lt;= 每列有多少偶数（行方向上压缩）
 np.sum(X%2==0,axis=1)       # array([2, 2, 2, 2])   &lt;= 每行有多少偶数（列方向上压缩））

 np.all(X&gt;3,axis=0)          # array([False, False, False, False]) &lt;= 每列（行方向上判断）
 np.all(X&gt;3,axis=1)          # array([False,  True,  True,  True]) &lt;= 每行（列方向上判断）
</code></pre>
</li>
</ol>
<h2 id="header-20">文件存取</h2>
<h3 id="header-21">CSV文件存取</h3>
<ul>
<li><p><code>np.savetxt(fname,X,fmt=&#39;%.18e&#39;,delimiter=&#39; &#39;,newline=&#39;\n&#39;,header=&#39;&#39;,footer=&#39;&#39;,comments=&#39;# &#39;,encoding=None,)</code></p>
<ul>
<li><code>frame</code> : 文件、字符串或产生器,可以是<code>.gz</code>或<code>.bz2</code>的压缩文件 </li>
<li><code>array</code> : 存入文件的数组</li>
<li><code>fmt</code> : 写入文件的格式,例如:<code>%d</code> <code>%.2f</code> <code>%.18e</code></li>
<li><code>delimiter</code> : 分割字符串,默认是任何空格</li>
</ul>
</li>
<li><p><code>np.loadtxt(fname,dtype=&lt;class &#39;float&#39;&gt;,comments=&#39;#&#39;,delimiter=None,converters=None,skiprows=0,usecols=None,unpack=False,ndmin=0,encoding=&#39;bytes&#39;,max_rows=None,)</code></p>
<ul>
<li><code>frame</code> : 文件、字符串或产生器,可以是<code>.gz</code>或<code>.bz2</code>的压缩文件     </li>
<li><code>dtype</code> : 数据类型,可选</li>
<li><code>delimiter</code> : 分割字符串,默认是任何空格</li>
<li><code>unpack</code> : 如果<code>True</code>,读入属性将分别写入不同变量</li>
</ul>
</li>
<li><p>局限：只能有效存储一维和二维数组 </p>
</li>
</ul>
<pre><code class="lang-python">X=np.arange(100).reshape(5,20)

np.savetxt(&quot;a.csv&quot;,X,fmt=&#39;%d&#39;,delimiter=&quot;,&quot;)
&#39;&#39;&#39;
0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19
20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39
40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59
60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79
80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99
&#39;&#39;&#39;

Y=np.loadtxt(&quot;a.csv&quot;,delimiter=&quot;,&quot;)
&#39;&#39;&#39;
array([[ 0.,  1.,  2.,  3.,  4.,  5.,  6.,  7.,  8.,  9., 10., 11., 12.,
        13., 14., 15., 16., 17., 18., 19.],
       [20., 21., 22., 23., 24., 25., 26., 27., 28., 29., 30., 31., 32.,
        33., 34., 35., 36., 37., 38., 39.],
       [40., 41., 42., 43., 44., 45., 46., 47., 48., 49., 50., 51., 52.,
        53., 54., 55., 56., 57., 58., 59.],
       [60., 61., 62., 63., 64., 65., 66., 67., 68., 69., 70., 71., 72.,
        73., 74., 75., 76., 77., 78., 79.],
       [80., 81., 82., 83., 84., 85., 86., 87., 88., 89., 90., 91., 92.,
        93., 94., 95., 96., 97., 98., 99.]])
&#39;&#39;&#39;
</code></pre>
<h3 id="header-22">多维数据的存取</h3>
<ul>
<li><p><code>a.tofile(frame, sep=&#39;&#39;, format=&#39;%s&#39;)</code></p>
<ul>
<li><code>frame</code> : 文件、字符串</li>
<li><code>sep</code> : 数据分割字符串,如果是空串,写入文件为二进制 </li>
<li><code>format</code> : 写入数据的格式</li>
</ul>
</li>
<li><p><code>np.fromfile(frame, dtype=float, count=‐1, sep=&#39;&#39;)</code></p>
<ul>
<li><code>frame</code> : 文件、字符串</li>
<li><code>dtype</code> : 读取的数据类型</li>
<li><code>count</code> : 读入元素个数,<code>‐1</code>表示读入整个文件</li>
<li><code>sep</code> : 数据分割字符串,如果是空串,写入文件为二进制</li>
</ul>
</li>
<li>注：tofile将array按一维存储，所以读取到后需reshape恢复（可以通过元数据文件来存储数组相关的额外信息）</li>
</ul>
<pre><code class="lang-python">X=np.arange(100).reshape(2,10,5)    # 2*10*5
&#39;&#39;&#39;
array([[[ 0,  1,  2,  3,  4],
        [ 5,  6,  7,  8,  9],
        [10, 11, 12, 13, 14],
        [15, 16, 17, 18, 19],
        [20, 21, 22, 23, 24],
        [25, 26, 27, 28, 29],
        [30, 31, 32, 33, 34],
        [35, 36, 37, 38, 39],
        [40, 41, 42, 43, 44],
        [45, 46, 47, 48, 49]],

       [[50, 51, 52, 53, 54],
        [55, 56, 57, 58, 59],
        [60, 61, 62, 63, 64],
        [65, 66, 67, 68, 69],
        [70, 71, 72, 73, 74],
        [75, 76, 77, 78, 79],
        [80, 81, 82, 83, 84],
        [85, 86, 87, 88, 89],
        [90, 91, 92, 93, 94],
        [95, 96, 97, 98, 99]]])
&#39;&#39;&#39;

X.tofile(&quot;b.txt&quot;,sep=&quot;,&quot;,format=&quot;%d&quot;)   # =&gt; 扁平化存储（1维）
&#39;&#39;&#39;
0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99
&#39;&#39;&#39;

Y=np.fromfile(&quot;b.txt&quot;,sep=&quot;,&quot;)
&#39;&#39;&#39;
array([ 0.,  1.,  2.,  3.,  4.,  5.,  6.,  7.,  8.,  9., 10., 11., 12.,
       13., 14., 15., 16., 17., 18., 19., 20., 21., 22., 23., 24., 25.,
       26., 27., 28., 29., 30., 31., 32., 33., 34., 35., 36., 37., 38.,
       39., 40., 41., 42., 43., 44., 45., 46., 47., 48., 49., 50., 51.,
       52., 53., 54., 55., 56., 57., 58., 59., 60., 61., 62., 63., 64.,
       65., 66., 67., 68., 69., 70., 71., 72., 73., 74., 75., 76., 77.,
       78., 79., 80., 81., 82., 83., 84., 85., 86., 87., 88., 89., 90.,
       91., 92., 93., 94., 95., 96., 97., 98., 99.])
&#39;&#39;&#39;

Y.reshape(2,10,5)                   # reshape回原维度
</code></pre>
<h3 id="header-23">便捷存取</h3>
<ul>
<li><code>np.save(fname, array, allow_pickle=True, fix_imports=True)</code> , <code>np.savez(fname, array)</code><ul>
<li><code>fname</code> : 文件名,以<code>.npy</code>为扩展名,压缩扩展名为<code>.npz</code></li>
<li><code>array</code> : 数组变量</li>
</ul>
</li>
<li><code>np.load(fname,mmap_mode=None,allow_pickle=True,fix_imports=True,encoding=&#39;ASCII&#39;)</code><ul>
<li><code>fname</code> : 文件名,以<code>.npy</code>为扩展名,压缩扩展名为<code>.npz</code></li>
</ul>
</li>
</ul>
<pre><code class="lang-python">X=np.arange(100).reshape(2,10,5)    # 2*10*5
np.save(&quot;c.npy&quot;,X)                  # 二进制，包含数组元信息
Y=np.load(&quot;c.npy&quot;)                  # 可直接恢复成原数组
&#39;&#39;&#39;
array([[[ 0,  1,  2,  3,  4],
        [ 5,  6,  7,  8,  9],
        [10, 11, 12, 13, 14],
        [15, 16, 17, 18, 19],
        [20, 21, 22, 23, 24],
        [25, 26, 27, 28, 29],
        [30, 31, 32, 33, 34],
        [35, 36, 37, 38, 39],
        [40, 41, 42, 43, 44],
        [45, 46, 47, 48, 49]],

       [[50, 51, 52, 53, 54],
        [55, 56, 57, 58, 59],
        [60, 61, 62, 63, 64],
        [65, 66, 67, 68, 69],
        [70, 71, 72, 73, 74],
        [75, 76, 77, 78, 79],
        [80, 81, 82, 83, 84],
        [85, 86, 87, 88, 89],
        [90, 91, 92, 93, 94],
        [95, 96, 97, 98, 99]]])
&#39;&#39;&#39;
</code></pre>
  </section>
</article>

      <hr/>
      
<section class="post-comment">
	
		<div id="gitment_container"></div>

<link rel="stylesheet" href="/gitment/default.css">
<script src="/gitment/gitment.browser.js"></script>


<script type="text/javascript">
	var gitment = new Gitment({
	  id: document.location.pathname,
	  owner: 'chenjin-zero',
	  repo: 'blogComment',
	  oauth: {
	    client_id: '36a09bb7399efe69c6ce',
	    client_secret: 'ad9ad546b23b708c71d92e513dc36e0486179dea',
	  }
	})
      
	gitment.render('gitment_container')
</script>
	
</section>

    </div>
  </div>
</body>

<script src="/jquery/dist/jquery.min.js"></script>
<script src="/bootstrap/dist/js/bootstrap.min.js"></script>


	<script src="/highlight/highlight.pack.js"></script>
	<script type="text/javascript">
		hljs.initHighlightingOnLoad();
	</script>






<script type="text/javascript">

  $(document).ready(function(){
    var sidebarCtrl=$("#sidebar-ctrl");
    var sidebar=$("#sidebar");
    var wrapper=$("#wrapper");
    sidebarCtrl.on("click",function(event){
        //alert("click");
        sidebar.toggleClass("sidebar-toggle");
        wrapper.toggleClass("sidebar-toggle");
        sidebarCtrl.toggleClass("sidebar-toggle");
        sidebarCtrl.toggleClass("active");
    })
  });
</script>


</html>
